(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{1533:function(t,e,n){"use strict";n.r(e);var u=n("5d7b"),o=n.n(u);for(var r in u)"default"!==r&&function(t){n.d(e,t,(function(){return u[t]}))}(r);e["default"]=o.a},"17ba":function(t,e,n){"use strict";(function(t){n("9cc0");u(n("66fd"));var e=u(n("72ce"));function u(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"1e3c":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return u}));var u={uNavbar:function(){return n.e("uview-ui/components/u-navbar/u-navbar").then(n.bind(null,"6f2d"))},uRow:function(){return n.e("uview-ui/components/u-row/u-row").then(n.bind(null,"5f4f"))},uCol:function(){return n.e("uview-ui/components/u-col/u-col").then(n.bind(null,"a955"))},uToast:function(){return n.e("uview-ui/components/u-toast/u-toast").then(n.bind(null,"d25e"))}},o=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.username=""},t.e1=function(e){t.password=""})},r=[]},"5d7b":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;r(n("6a95"));var u=r(n("6830")),o=r(n("ad39"));function r(t){return t&&t.__esModule?t:{default:t}}var i={data:function(){return{span:12,offset:0,username:"",password:"",uuid:"",token:"",showLoading:!1}},created:function(){var e;t.getSystemInfo({success:function(t){t.platform,e=t.windowWidth}}),e>768&&e<=992&&(this.span=10,this.offset=1),e>992&&(this.span=6,this.offset=3);var n=t.getStorageSync("username"),u=t.getStorageSync("uuid"),o=t.getStorageSync("token");u&&o&&(this.username=n,this.uuid=u,this.token=o,this.freeLogin(u,o))},methods:{freeLogin:function(e,n){var o=this,r=u.default.api.freeLogin;this.$utils.request(r.url,r.method,{uuid:this.uuid,token:this.token}).then((function(e){200==e.code&&(o.$refs.uToast.show({title:"登录成功",type:"success",duration:1500}),setTimeout((function(){t.switchTab({url:"../index/index"})}),1500))}),(function(e){401==e.code?(t.removeStorageSync("token"),o.$refs.uToast.show({title:"token过期，请重新登录",type:"error",icon:!1,duration:1500})):o.$refs.uToast.show({title:"未知错误",type:"error",duration:1500})}))},login:function(){var e=this;if(!this.username)return this.$refs.uToast.show({title:"请输入用户名",type:"warning",duration:1500});if(!this.password)return this.$refs.uToast.show({title:"请输入密码",type:"warning",duration:1500});t.vibrateShort();var n=u.default.api.login;this.$utils.request(n.url,n.method,{username:this.username,password:o.default.hex_md5(this.password)}).then((function(n){200==n.code&&(e.$refs.uToast.show({title:"登录成功",type:"success",duration:1500}),t.setStorageSync("username",n.data.username),t.setStorageSync("uuid",n.data.uuid),t.setStorageSync("token",n.data.token),setTimeout((function(){t.switchTab({url:"../index/index"})}),1500))}),(function(t){500==t.code?e.$refs.uToast.show({title:"网络错误",type:"error",duration:1500}):401==t.code?e.$refs.uToast.show({title:"用户名 或 密码错误",type:"error",duration:1500}):400==t.code?e.$refs.uToast.show({title:"此用户名未注册",type:"error",duration:1500}):e.$refs.uToast.show({title:"未知错误",type:"error",duration:1500})}))}}};e.default=i}).call(this,n("543d")["default"])},"72ce":function(t,e,n){"use strict";n.r(e);var u=n("1e3c"),o=n("1533");for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);n("c46f");var i,s=n("f0c5"),a=Object(s["a"])(o["default"],u["b"],u["c"],!1,null,"7f279977",null,!1,u["a"],i);e["default"]=a.exports},"870e":function(t,e,n){},c46f:function(t,e,n){"use strict";var u=n("870e"),o=n.n(u);o.a}},[["17ba","common/runtime","common/vendor"]]]);